<!-- index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Construction Carpentry</title>
  <meta name="description" content="Construction Carpentry — calculators, estimators, and references for class and jobsite." />
  <meta name="theme-color" content="#070b14" />

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="appHeader">
    <div class="titleBlock">
      <h1 class="appTitle">Construction Carpentry</h1>
      <div class="buildLine" id="buildLine">Build: v7 • Live</div>
    </div>

    <nav class="topNav" aria-label="Primary">
      <button class="navBtn" type="button" data-tab="home">Home</button>
      <button class="navBtn" type="button" data-tab="layout">Layout</button>
      <button class="navBtn" type="button" data-tab="subfloor">Subfloor</button>
      <button class="navBtn" type="button" data-tab="roofing">Roofing</button>
      <button class="navBtn" type="button" data-tab="ref">Reference</button>
    </nav>
  </header>

  <main class="appMain">

    <!-- =========================
         HOME TAB
    ========================== -->
    <section id="tab-home" class="tabPanel" aria-label="Home">
      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Tape / Fraction Converter</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-tape">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="tape_frac">Fraction / mixed (in)</label>
            <input id="tape_frac" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 3 1/2 or 7/16' />
            <div class="btnRow">
              <button id="btn_frac_to_dec" type="button" class="btn primary">Convert → Decimal</button>
              <button id="btn_frac_clear" type="button" class="btn">Clear</button>
            </div>
            <pre id="out_frac_to_dec" class="out">—</pre>
          </div>

          <div class="field">
            <label for="tape_dec">Decimal (in)</label>
            <input id="tape_dec" inputmode="decimal" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="e.g., 3.4375" />
            <div class="btnRow">
              <button id="btn_dec_to_16" type="button" class="btn primary">Convert → Nearest 1/16</button>
              <button id="btn_dec_clear" type="button" class="btn">Clear</button>
            </div>
            <pre id="out_dec_to_16" class="out">—</pre>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Fraction Operations</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-fracops">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="ops_a">A</label>
            <input id="ops_a" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="e.g., 1 3/8" />
          </div>
          <div class="field">
            <label for="ops_b">B</label>
            <input id="ops_b" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="e.g., 7/16" />
          </div>
        </div>

        <div class="btnRow wrap">
          <button type="button" class="btn primary" data-op="add">A + B</button>
          <button type="button" class="btn primary" data-op="sub">A − B</button>
          <button type="button" class="btn primary" data-op="mul">A × B</button>
          <button type="button" class="btn primary" data-op="div">A ÷ B</button>
          <button id="btn_ops_clear" type="button" class="btn">Clear</button>
        </div>

        <pre id="out_ops" class="out">—</pre>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Inches ↔ Decimal Feet</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-feetdec">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="fi_in">Feet &amp; inches</label>
            <input id="fi_in" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 12&apos; 3 1/2"' />
            <div class="btnRow">
              <button id="btn_fi_to_df" type="button" class="btn primary">Convert → Decimal Feet</button>
              <button id="btn_fi_clear" type="button" class="btn">Clear</button>
            </div>
            <pre id="out_fi_to_df" class="out">—</pre>
          </div>

          <div class="field">
            <label for="df_in">Decimal feet</label>
            <input id="df_in" inputmode="decimal" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="e.g., 12.2917" />
            <div class="btnRow">
              <button id="btn_df_to_fi" type="button" class="btn primary">Convert → Feet &amp; Inches</button>
              <button id="btn_df_clear" type="button" class="btn">Clear</button>
            </div>
            <pre id="out_df_to_fi" class="out">—</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- =========================
         LAYOUT TAB
    ========================== -->
    <section id="tab-layout" class="tabPanel" aria-label="Layout" hidden>
      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Wall Materials Estimator (sheet goods + fasteners)</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-wall">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="wall_len">Wall length</label>
            <input id="wall_len" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 24&apos; 0"' />
            <div class="hint">Accepts: 144, 12', 12' 0", 12' 3 1/2"</div>
          </div>

          <div class="field">
            <label for="wall_h">Wall height</label>
            <input id="wall_h" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 8&apos; 0"' />
          </div>

          <div class="field">
            <label for="stud_oc">Stud spacing</label>
            <select id="stud_oc">
              <option value="16">16" OC</option>
              <option value="24">24" OC</option>
            </select>
          </div>

          <div class="field">
            <label for="sheet_size">Sheet size</label>
            <select id="sheet_size">
              <option value="4x8">4x8</option>
              <option value="4x12">4x12</option>
            </select>
          </div>

          <div class="field">
            <label for="hang_dir">Hang direction</label>
            <select id="hang_dir">
              <option value="vertical">Vertical (common)</option>
              <option value="horizontal">Horizontal</option>
            </select>
          </div>

          <div class="field">
            <label for="waste_pct">Waste % (optional)</label>
            <input id="waste_pct" inputmode="numeric" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              value="10" />
          </div>
        </div>

        <hr class="divider" />

        <div class="subTitle">Drywall screw spacing (editable defaults)</div>
        <div class="grid2">
          <div class="field">
            <label for="dw_edge">Edges (in)</label>
            <input id="dw_edge" inputmode="numeric" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              value="8" />
          </div>
          <div class="field">
            <label for="dw_field">Field (in)</label>
            <input id="dw_field" inputmode="numeric" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false"
              value="12" />
          </div>
        </div>

        <div class="hint">Defaults are common jobsite schedules. Adjust to match your class/module.</div>

        <hr class="divider" />

        <div class="subTitle">Bottom plate anchors (concrete screws)</div>
        <div class="grid2">
          <div class="field">
            <label for="anc_space">Spacing (in)</label>
            <input id="anc_space" inputmode="numeric" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              value="72" />
          </div>
          <div class="field">
            <label for="anc_end">End distance (in)</label>
            <input id="anc_end" inputmode="numeric" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              value="12" />
          </div>
        </div>
        <div class="hint">Estimate assumes one continuous bottom plate on slab.</div>

        <div class="btnRow wrap">
          <button id="btn_wall_calc" type="button" class="btn primary">Calculate</button>
          <button id="btn_wall_clear" type="button" class="btn">Clear</button>
          <button id="btn_wall_to_auditor" type="button" class="btn">Add lines to Auditor</button>
        </div>

        <pre id="out_wall" class="out">—</pre>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Materials Auditor (running tally)</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-auditor">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="aud_item">Item</label>
            <input id="aud_item" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="e.g., 2x4 Stud" />
          </div>

          <div class="field">
            <label for="aud_qty">Qty</label>
            <input id="aud_qty" inputmode="decimal" value="1" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" />
          </div>

          <div class="field">
            <label for="aud_unit">Unit</label>
            <input id="aud_unit" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="pcs / sheets / boxes" />
          </div>

          <div class="field">
            <label for="aud_cost">Unit cost ($)</label>
            <input id="aud_cost" inputmode="decimal" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false"
              placeholder="optional" />
          </div>

          <div class="field" style="grid-column: 1 / -1;">
            <label for="aud_notes">Notes</label>
            <input id="aud_notes" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder="optional" />
          </div>
        </div>

        <div class="btnRow wrap">
          <button id="aud_add" type="button" class="btn primary">Add Line</button>
          <button id="aud_clear_inputs" type="button" class="btn">Clear Inputs</button>
          <button id="aud_export" type="button" class="btn">Export JSON</button>
          <button id="aud_import" type="button" class="btn">Import JSON</button>
          <button id="aud_wipe" type="button" class="btn danger">Wipe List</button>
        </div>

        <div class="tableWrap">
          <table class="table">
            <thead>
              <tr>
                <th>Item</th>
                <th class="num">Qty</th>
                <th>Unit</th>
                <th class="num">Cost</th>
                <th>Notes</th>
                <th class="num">Line $</th>
                <th class="num">—</th>
              </tr>
            </thead>
            <tbody id="aud_rows"></tbody>
          </table>
        </div>

        <div id="aud_meta" class="metaLine">—</div>
      </div>
    </section>

    <!-- =========================
         SUBFLOOR TAB
    ========================== -->
    <section id="tab-subfloor" class="tabPanel" aria-label="Subfloor" hidden>
      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Subfloor Estimator (joists + sheathing + fasteners + adhesive)</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-subfloor">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="sf_len">Floor length</label>
            <input id="sf_len" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 24&apos; 0"' />
            <div class="hint">Accepts: 144, 12', 12' 0", 12' 3 1/2"</div>
          </div>

          <div class="field">
            <label for="sf_wid">Floor width</label>
            <input id="sf_wid" inputmode="text" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false"
              placeholder='e.g., 12&apos; 0"' />
          </div>

          <div class="field">
            <label for="sf_joist_dir">Joists run</label>
            <select id="sf_joist_dir">
              <option value="along_len" selected>Along length (spaced across width)</option>
              <option value="along_wid">Along width (spaced across length)</option>
            </select>
          </div>

          <div class="field">
            <label for="sf_joist_oc">Joist spacing</label>
            <select id="sf_joist_oc">
              <option value="12">12" OC</option>
              <option value="16" selected>16" OC</option>
              <option value="19.2">19.2" OC</option>
              <option value="24">24" OC</option>
            </select>
          </div>

          <div class="field">
            <label for="sf_sheet">Sheet size</label>
            <select id="sf_sheet">
              <option value="4x8" selected>4x8</option>
              <option value="4x12">4x12</option>
            </select>
          </div>

          <div class="field">
            <label for="sf_waste">Waste % (optional)</label>
            <input id="sf_waste" inputmode="numeric" value="10" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" />
          </div>
        </div>

        <hr class="divider" />

        <div class="subTitle">Fasteners + adhesive (editable defaults)</div>
        <div class="grid2">
          <div class="field">
            <label for="sf_method">Method</label>
            <select id="sf_method">
              <option value="screws_adhesive" selected>Screws + Adhesive (default)</option>
              <option value="screws_only">Screws only</option>
              <option value="nails_only">Ring-shank nails only</option>
              <option value="nails_adhesive">Nails + Adhesive</option>
            </select>
            <div class="hint">Glue reduces squeaks. Screws are best DIY.</div>
          </div>

          <div class="field">
            <label for="sf_tubes_per_sheet">Adhesive rate (tubes per sheet)</label>
            <input id="sf_tubes_per_sheet" inputmode="decimal" value="0.5" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" />
            <div class="hint">Default 0.5 = 1 tube per 2 sheets (rough estimator).</div>
          </div>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="sf_edge">Fastener spacing — edges (in)</label>
            <input id="sf_edge" inputmode="numeric" value="6" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" />
          </div>
          <div class="field">
            <label for="sf_field">Fastener spacing — field (in)</label>
            <input id="sf_field" inputmode="numeric" value="12" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" />
          </div>
        </div>

        <div class="hint">Estimator assumes sheathing strength axis is perpendicular to joists, seams staggered.</div>

        <div class="btnRow wrap">
          <button id="btn_sf_calc" type="button" class="btn primary">Calculate</button>
          <button id="btn_sf_clear" type="button" class="btn">Clear</button>
          <button id="btn_sf_to_auditor" type="button" class="btn">Add lines to Auditor</button>
        </div>

        <pre id="out_sf" class="out">—</pre>
      </div>
    </section>

    <!-- =========================
         ROOFING TAB
    ========================== -->
    <section id="tab-roofing" class="tabPanel" aria-label="Roofing" hidden>
      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Pitch ↔ Angle</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-pitch">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="pitch_rise">Rise</label>
            <input id="pitch_rise" inputmode="decimal" value="4" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false" />
          </div>
          <div class="field">
            <label for="pitch_run">Run</label>
            <input id="pitch_run" inputmode="decimal" value="12" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false" />
          </div>
        </div>

        <div class="btnRow wrap">
          <button id="btn_pitch_calc" type="button" class="btn primary">Calculate</button>
          <button id="btn_pitch_clear" type="button" class="btn">Clear</button>
        </div>

        <pre id="out_pitch" class="out">—</pre>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Rafter Length</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-rafter">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="raf_run">Run</label>
            <input id="raf_run" inputmode="text" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false"
              placeholder='e.g., 12&apos; 0"' />
          </div>
          <div class="field">
            <label for="raf_pitch">Pitch (per 12)</label>
            <input id="raf_pitch" inputmode="decimal" value="4" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false" />
          </div>
        </div>

        <div class="btnRow wrap">
          <button id="btn_raf_calc" type="button" class="btn primary">Calculate</button>
          <button id="btn_raf_clear" type="button" class="btn">Clear</button>
        </div>

        <pre id="out_raf" class="out">—</pre>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2 class="cardTitle">Diagonal</h2>
          <button class="chipBtn" type="button" data-steps-open="steps-diag">Steps</button>
        </div>

        <div class="grid2">
          <div class="field">
            <label for="diag_a">A</label>
            <input id="diag_a" inputmode="text" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false"
              placeholder='e.g., 8&apos; 0"' />
          </div>
          <div class="field">
            <label for="diag_b">B</label>
            <input id="diag_b" inputmode="text" autocomplete="off" autocapitalize="off" autoccorrect="off" spellcheck="false"
              placeholder='e.g., 12&apos; 0"' />
          </div>
        </div>

        <div class="btnRow wrap">
          <button id="btn_diag_calc" type="button" class="btn primary">Calculate</button>
          <button id="btn_diag_clear" type="button" class="btn">Clear</button>
        </div>

        <pre id="out_diag" class="out">—</pre>
      </div>
    </section>

    <!-- =========================
         REFERENCE TAB
    ========================== -->
    <section id="tab-ref" class="tabPanel" aria-label="Reference" hidden>
      <div class="stack">

        <div class="card">
          <h3>Stud Spacing</h3>
          <ul>
            <li><strong>16&quot; OC</strong> — Load-bearing, standard residential</li>
            <li><strong>24&quot; OC</strong> — Engineered / non-bearing</li>
          </ul>
          <p class="muted">Rule: Load-bearing → 16&quot; | Non-bearing → 24&quot;</p>
        </div>

        <div class="card">
          <h3>Fastener Spacing</h3>
          <ul>
            <li><strong>Drywall walls:</strong> 16&quot; field / 8&quot; edges</li>
            <li><strong>Drywall ceilings:</strong> 12&quot; field / 7&quot; edges</li>
            <li><strong>Sheathing:</strong> 12&quot; field / 6&quot; edges</li>
            <li><strong>Subfloor (common):</strong> 12&quot; field / 6&quot; edges (editable in Subfloor tab)</li>
          </ul>
        </div>

        <div class="card">
          <h3>Roof Pitch</h3>
          <ul>
            <li>4/12 → 18.4°</li>
            <li>6/12 → 26.6°</li>
            <li>8/12 → 33.7°</li>
            <li>12/12 → 45°</li>
          </ul>
        </div>

        <div class="card">
          <h3>Lumber Sizes (Actual)</h3>
          <ul>
            <li>2×4 → 1½&quot; × 3½&quot;</li>
            <li>2×6 → 1½&quot; × 5½&quot;</li>
            <li>2×8 → 1½&quot; × 7¼&quot;</li>
          </ul>
        </div>

        <div class="card">
          <h3>Sheet Goods</h3>
          <ul>
            <li>7/16&quot; OSB → 0.438&quot;</li>
            <li>½&quot; → 0.5&quot;</li>
            <li>5/8&quot; → 0.625&quot;</li>
            <li>¾&quot; → 0.75&quot;</li>
          </ul>
        </div>

      </div>
    </section>

  </main>

  <!-- =========================
       Steps modal
  ========================== -->
  <div id="stepsModal" class="modal" aria-hidden="true" role="dialog" aria-label="Steps">
    <div class="modalCard" role="document">
      <div class="modalHead">
        <div id="stepsTitle" class="modalTitle">Steps</div>
        <button id="stepsClose" type="button" class="iconBtn" aria-label="Close">✕</button>
      </div>
      <pre id="stepsBody" class="modalBody">—</pre>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
